<!doctype html>
<html lang="en">
<head>
  <title>Setup DD - Credit balance - Energy - Success</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="format-detection" content="telephone=no">
</head>
<body>
  <div class="ndsn">

    <main>

      <ns-header></ns-header>

      <ns-landmark type="lakeside">
        <h1 slot="heading">
          <span class="h5">Set up a fixed Direct Debit.</span>
          <span class="h1 enlighten"><b>Bank details</b></span>
        </h1>
        <p slot="paragraph">Please provide us with some bank details so you can begin the plan for your gas account.</p>
      </ns-landmark>

      <ns-panel decoration="invert-bridge-cyan">
        <div class="splash">
          <h2>Your plan overview</h2>
        </div>

        <div class="splash triple" role="list">

          <ns-card role="listitem" type="support">
            <h3 slot="heading" role="heading" aria-level="3">Your monthly payments</h3>
            <p slot="paragraph">Your first payment of <b>£<span id="first">60</span>.00</b> will be taken on <b id="first-date">7th March 2020</b>.</p>
            <p slot="paragraph">Then, a further <b>9 regular monthly payments</b> of <b>£<span id="monthly">60</span>.00</b> will be taken on <b><span id="date">1st</span> of each month</b> thereafter.</p>
            <ns-cta id="change-date" slot="cta" type="text" href="payment-date.html">Change this date</ns-cta>
          </ns-card>

          <ns-card role="listitem" type="support">
            <h3 slot="heading" role="heading" aria-level="3">Total projected payment</h3>
            <p slot="paragraph">By the end of your <b>10-month plan</b>, you will have paid <b>£<span id="plan-total">600</span>.00</b>.</p>
            <p id="credit-paragraph" slot="paragraph"><b>£200</b> of your account credit will be put towards your energy usage.</p>
          </ns-card>

          <ns-card role="listitem" type="support">
            <h3 slot="heading" role="heading" aria-level="3">Account balance</h3>
            <p slot="paragraph">Your account balance is <b>£200.00</b>.</p>
            <p slot="paragraph">This means your account is in <b>credit</b>.</p>
            <p id="refund-description" slot="paragraph">Your account credit has been <b>split across the remainder of your plan</b>.</p>
            <ns-cta id="refund-options" slot="cta" type="text" href="refund.html">Refund options</ns-cta>
          </ns-card>

        </div>

      </ns-panel>

      <ns-panel>
        <div class="splash">
          <h2>Bank details</h2>
        </div>

        <div class="splash">
          <ns-form>

            <ns-inputter validation='["isRequired"]' name="account-holder-name">
              <label slot="label">Name of the account holder</label>
              <input type="text">
            </ns-inputter>

            <ns-inputter mask="00-00-00" separator="-" ignoreseparator validation='["isRequired", "minLength(6)", "maxLength(6)"]' value="" helper="" name="sort-code">
              <label slot="label">Sort code</label>
              <input type="text">
            </ns-inputter>

            <ns-inputter mask="00000000" separator="" validation='["isRequired", "isInteger", "minLength(8)", "maxLength(8)"]' value="" helper="" name="account-number">
              <label slot="label">Bank or building society account number</label>
              <input type="text">
            </ns-inputter>

            <ns-inputter validation='["isRequired"]' heading="Important information" helper="<ns-cta type=&quot;text&quot;>Direct Debit Guarentee</ns-cta>" name="dd-guarentee">

              <input id="dd-guarantee" type="checkbox" name="guarantee" value="1">
              <label for="dd-guarantee">I have read the Direct Debit Guarantee document provided in the link above.</label>

            </ns-inputter>

            <ns-cta id="complete" type="direct">Complete fixed Direct Debit setup</ns-cta>

          </ns-form>
        </div>

      </ns-panel>

      <ns-panel>
        <div class="splash">
          <img src="https://www.bacs.co.uk/SiteCollectionImages/BacsLogos/DirectDebitLogo.jpg" alt="">
          <p>British Gas originators identification number: 948555</p>
        </div>
      </ns-panel>

      <ns-panel>
        <div class="splash">
          <ns-accordion id="faqs">
            <h3 slot="heading">Frequently asked questions</h3>
          </ns-accordion>
        </div>
      </ns-panel>

      <ns-footer></ns-footer>

    </main>

  </div>
  <script type="text/javascript" src="https://www.britishgas.co.uk/nucleus/nucleus.min.js"></script>
  <!-- <script type="text/javascript" src="dist/nucleus.min.js"></script> -->
  <script src="moment.js" charset="utf-8"></script>
  <script src="main.js" charset="utf-8"></script>

  <script type="text/javascript">

  var pageFAQs = [0,1,2,3];

  console.log(faqs[0]);

  for (var i = 0; i < pageFAQs.length; i++) {

    console.log(i, faqs[pageFAQs[i]]);

    var expander = document.createElement('ns-expander');
    expander.innerHTML = faqs[pageFAQs[i]].heading + faqs[pageFAQs[i]].content;
    document.getElementById('faqs').appendChild(expander);
  }
  </script>

  <script type="text/javascript">
    document.getElementById('complete').addEventListener('click', () => {
      const form = document.querySelector('ns-form');
      const data = form.validate();

      if (data.isValid) {
        location.href = "confirmation.html?date=" + date + "&type=" + type + "&hl=" + "";
      }
    });
  </script>
</body>
</html>
