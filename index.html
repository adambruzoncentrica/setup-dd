<!doctype html>
<html lang="en">
<head>
  <title>Options</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="format-detection" content="telephone=no">
</head>
<body>
  <div class="ndsn">

    <main>

      <ns-header></ns-header>

      <ns-landmark type="lakeside">
        <h1 slot="heading">
          <span class="h5">Settings.</span>
          <span class="h1 enlighten">Set up your scenario</span>
        </h1>
        <p slot="paragraph">The options you choose here should reflect in the journey example ahead. (Customers will not see this.)</p>
      </ns-landmark>

      <span id="highlighter-container"></span>

      <ns-panel>
        <div class="splish">
          <h2>Journey settings</h2>
        </div>

        <div class="splish">
          <ns-form>
            <ns-inputter mask="" separator="" validation="" value="" helper="Default: 0 [in pence] (Use a minus number for debit balance)" name="balance">
              <label slot="label">Account balance</label>
              <input type="number">
            </ns-inputter>

            <ns-inputter mask="" separator="" validation="" value="" helper="Default: Random from 20000 to 60000 [in pence]" name="totalEnergy">
              <label slot="label">Plan total</label>
              <input type="number">
            </ns-inputter>

            <ns-inputter validation="" heading="Plan length" helper="Default: 10 months" name="term" value="">
              <label slot="label">Plan length</label>

              <select name="select">
                <option value="">Please select</option>
                <option value="1">1 month</option>
                <option value="2">2 months</option>
                <option value="3">3 months</option>
                <option value="4">4 months</option>
                <option value="5">5 months</option>
                <option value="6">6 months</option>
                <option value="7">7 months</option>
                <option value="8">8 months</option>
                <option value="9">9 months</option>
                <option value="10">10 months</option>
                <option value="11">11 months</option>
                <option value="12">12 months</option>
              </select>
            </ns-inputter>

            <ns-inputter mask="000000" separator="" validation="" value="" helper="" name="lastReading">
              <label slot="label">Last meter reading</label>
              <input type="text">
            </ns-inputter>

            <ns-inputter mask="dd/mm/yyyy" separator="/" validation="" value="" helper="" name="lastRead">
              <label slot="label">Date of last meter read</label>
              <input type="text">
            </ns-inputter>

            <ns-inputter mask="" separator="" validation="" value="" helper="" name="paymentAmount">
              <label slot="label">Amount paid through 'Make a payment' journey</label>
              <input type="number">
            </ns-inputter>

            <ns-cta id="begin" type="direct" icon="arrow-right" onclick="">Let's get into it!</ns-cta>

          </ns-form>
        </div>

      </ns-panel>

      <ns-footer></ns-footer>

    </main>

  </div>

  <!-- Nucleus and supporting DOM library -->
  <script type="text/javascript" src="https://www.britishgas.co.uk/nucleus/nucleus.min.js"></script>
  <script src="nucleus-dom.js" charset="utf-8"></script>

  <script type="text/javascript">

  let urlParams = new URLSearchParams(window.location.search);

  document.getElementById('begin').addEventListener('click', () => {
    const form = document.querySelector('ns-form');
    const data = form.validate();
    if (data.isValid) {

      for (let i = 0; i < data.fields.length; i++) {
        if (data.fields[i].value) {
          urlParams.set(data.fields[i].name, data.fields[i].value);
        }
      }

      urlParams.delete('highlighterIndex');
      location.href = "checklist.html" + "?" + urlParams.toString();
    }
  });
  </script>

</body>
</html>
